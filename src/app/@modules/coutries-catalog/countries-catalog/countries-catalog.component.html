<div fxFlex="100" fxLayout="Column">
  <div fxFlex="100" fxLayout="row" fxLayoutAlign="space-between center">
    <div fxFlex="100">
      <h1>Counties Catalog</h1>
    </div>
    <div fxFlex="100" fxLayout="row" fxLayoutGap="10px">
      <mat-form-field appearance="outline" class="sort-content">
        <mat-label>Sort by</mat-label>
        <mat-select value="asc" (selectionChange)="onSortChange($event.value)">
          <mat-option value="asc">Asc</mat-option>
          <mat-option value="desc">Desc</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Search by Country Name</mat-label>
        <input matInput (keyup)="onSearch($event)" placeholder="" #input>
        <mat-icon *ngIf="!searchValue" matSuffix color="primary">search</mat-icon>
        <mat-icon *ngIf="searchValue" matSuffix color="warn" (click)="clearSearch(input)">close</mat-icon>
      </mat-form-field>

    </div>
  </div>

  <div class="mat-elevation-z8">
    <table mat-table class="mat-elevation-z8" [dataSource]="dataSource">
      <ng-container matColumnDef="no">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element; index as i" [ngStyle]="{'min-width': '50px'}"> {{i  + 1}} </td>
      </ng-container>
  
      <ng-container matColumnDef="png">
        <th mat-header-cell *matHeaderCellDef> Flags </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '50px'}">
          <img [src]="element.flags.png" alt="">
        </td>
      </ng-container>
  
      <ng-container matColumnDef="official">
        <th mat-header-cell *matHeaderCellDef> Country Name </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px'}"
        > {{element.name.official}} </td>
      </ng-container>
  
      <ng-container matColumnDef="cca2">
        <th mat-header-cell *matHeaderCellDef> 2 Character Country Code </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px'}"> 
          {{element.cca2}} 
        </td>
      </ng-container>

      <ng-container matColumnDef="cca3">
        <th mat-header-cell *matHeaderCellDef> 3 Character Country Code </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px'}"> 
          {{element.cca3}} 
        </td>
      </ng-container>

      <ng-container matColumnDef="nativeName">
        <th mat-header-cell *matHeaderCellDef> Native Country Name </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px'}"> 
          <!-- nativeName is object cannot access to -->
          {{element.name.common}} 
        </td>
      </ng-container>

      <ng-container matColumnDef="altSpellings">
        <th mat-header-cell *matHeaderCellDef> Alternative Country Name </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px'}"> 
          {{element.altSpellings}} 
        </td>
      </ng-container>

      <ng-container matColumnDef="idd">
        <th mat-header-cell *matHeaderCellDef> Country Calling Codes </th>
        <td mat-cell *matCellDef="let element" [ngStyle]="{'min-width': '200px', 'text-align': 'center'}"> 
          {{element.idd.root}} 
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element; index as i" [ngStyle]="{'min-width': '50px'}"> 
          <button mat-icon-button>
            <mat-icon (click)="openDialog(element.area)">visibility</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="9" [ngStyle]="{'text-align': 'center'}">No data matching the filter "{{searchValue}}"</td>
      </tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[25]"
                   showFirstLastButtons
                   aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>

</div>